<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<link rel="stylesheet" href="form.css">

<script type="text/javascript" 
    src="http://yandex.st/jquery/1.5.2/jquery.min.js"></script>
<script type="text/javascript" src="../jquery.f5.js"></script>
<script type="text/javascript" src="../jquery.f51.js"></script>
        
<title>jquery.f5 Test</title>
</head>

<body>
<h1>jquery.f5 Test</h1>

<form id='f' >
<fieldset><legend>Text</legend>
	<label><input name='f1_1' 
	    type='text'></label>
	<label>Required<input name='f1_2' 
	    type='text' 
	    required
	    placeholder="Required"></label>
	<label>Pattern<input name='f1_3' 
	    type='text' 
	    pattern="^pattern$"
	    placeholder='Type "pattern"'></label>
	<label>Async validation<input name='f1_4' 
	    type='text'
	    validate='async3' 
	    placeholder='Type "async" an wait 3 seconds'></label>
	<label>Recuired async validation<input name='f1_5' 
	    type='text'
	    required validate='async1' 
	    placeholder='Type "async" an wait 1 second'></label>
</fieldset>

<fieldset><legend>E-Mail</legend>
	<label><input name='f2_1' 
	    type='email'></label>
	<label>Required<input name='f2_2' 
	    type='email' 
	    required
	    placeholder="Required"></label>
</fieldset>

<fieldset><legend>Password</legend>
	<label><input name='f3_1'
	    type='password'>
	</label>
	<label>Required<input name='f3_2' 
	    type='password' 
	    required 
	    placeholder="Required">
	</label>
</fieldset>

<fieldset><legend>url</legend>
	<label><input name='f4_1' 
	    type='url'></label>
	<label>Required<input name='f4_2' 
	    type='url' 
	    required
	    placeholder="Required"></label>
</fieldset>

<fieldset><legend>number</legend>
	<label><input name='f5_1' 
	    type='number'></label>
	<label>required<input name='f5_2' 
	    type='number' 
	    required
	    placeholder="Required"></label>
</fieldset>

<fieldset><legend> textarea </legend>
	<label>Textarea<textarea name='f20_1'></textarea></label>
	<label>Textarea, required<textarea name='f20_2'
	    required
	    placeholder="Required"></textarea></label>
</fieldset>
	
	<input type="submit" value="Submit">
</form>

<script type="text/javascript">
$('#f').ready(function(){
    $('#f').f51({
        submit: function() {
            alert($(this).serialize());
            return false;
        },
        validators: {
            async3: function(callback) {
                var that = this;
                setTimeout(function() {
                    that.control.value() == 'async' ? 
                        callback() : callback('Not "async".') 
                }, 3000);
            },
            async1: function(callback) {
                var that = this;
                setTimeout(function() {
                    that.control.value() == 'async' ? 
                        callback() : callback('Not "async".') 
                }, 1000);
            }
        }
    });
});
</script>
</body>
</html>
